{
    "$schema": "https://raw.githubusercontent.com/haje01/loglab/master/schema/lab.schema.json",
    "domain": {
        "name": "rpg",
        "desc": "MMORPG 게임"
    },
    "import": ["webzen.lab.json"],
    "types": {
        "stringId": {
            "type": "string",
            "desc": "문자열 ID"
        },
        "unsigned": {
            "type": "integer",
            "desc": "0 또는 양의 정수",
            "minimum": 0
        },
        "unsignedId": {
            "type": "integer",
            "desc": "0 또는 양의 정수 ID",
            "minimum": 0
        },
        "platformId": {
            "type": "string",
            "desc": "플랫폼 ID",
            "enum": ["ios", "aos", "pc"]
        },
        "networkId": {
            "type": "string",
            "desc": "네트워크 ID",
            "enum": ["wifi", "2G", "3G", "4G", "5G"]
        },
        "ipType": {
            "type": "string",
            "desc": "IP 주소 타입",
            "enum": ["IPv4", "IPv6", "Unknown"]
        },
        "ip": {
            "type": "string",
            "desc": "IP 주소"
        },
        "questStatus": {
            "desc": "퀘스트 상태",
            "type": "string",
            "enum": [
                ["accept", "수락"],
                ["start", "시작"],
                ["done", "종료"]
            ]
        }
    },
    "bases": {
        "Ip": {
            "desc": "IP 정보",
            "fields": [
                ["ClientIpType", "types.ipType", "클라이언트 IP 타입"],
                ["ClientIp", "types.ip", "클라이언트 IP (ClientIpType 에 맞게)"]
            ]
        },
        "Device": {
            "desc": "디바이스 정보",
            "mixins": ["bases.Ip"],
            "fields": [
                ["AppId", "types.stringId", "앱 ID"],
                ["ClientVer", "types.stringId", "클라이언트 앱 버전"],
                ["DevicePlatform", "types.platformId", "디바이스 플랫폼"],
                ["DeviceOsVer", "string", "디바이스 OS 버전"],
                ["DeviceName", "string", "디바이스 이름"],
                ["Channel", "string", "접속 채널(루트)"],
                ["TelecomId", "types.stringId", "통신사 ID"],
                ["Network", "types.networkId", "네트워크 종류", true],
                ["ScreenWidth", "types.unsigned", "디바이스 화면 너비", true],
                ["ScreenHeight", "types.unsigned", "디바이스 화면 높이", true],
                ["ScreenDensity", "number", "디바이스 화소 밀도", true],
                ["CpuInfo", "string", "디바이스 CPU 정보 ('종류|클럭|코어수' 형식)", true],
                ["Memory", "types.unsigned", "디바이스 메모리 (MB)", true],
                ["GraphicsApi", "string", "디바이스 그래픽 API 정보", true],
                ["DeviceId", "string", "디바이스 ID", true]
            ]
        },
        "GameServer": {
            "desc": "게임 서버 정보",
            "fields": [
                ["GameSvrId", "types.stringId", "게임 서버 ID"],
                ["ZoneId", "types.unsignedId", "게임 서버가 속하는 구역 ID. 없는 경우 0"]
            ]
        },
        "Account": {
            "desc": "게임 계정 정보",
            "fields": [
                ["AcntId", "types.stringId", "게임 계정 ID"]
            ]
        },
        "ServerAccount": {
            "desc": "게임 서버와 계정 정보",
            "mixins": ["bases.GameServer", "bases.Account"]
        },
        "Character": {
            "desc": "캐릭터 정보",
            "mixins": ["bases.ServerAccount"],
            "fields": [
                ["CharId", "types.stringId", "캐릭터 ID"],
                ["CharName", "string", "캐릭터 이름"],
                ["CharLevel", "types.unsigned", "캐릭터 레벨"]
            ]
        }, 
        "Location": {
            "desc": "맵상 위치",
            "fields": [
                ["MapCd", "types.unsigned", "맵 코드"],
                ["PosX", "number", "맵상 X 위치"],
                ["PosY", "number", "맵상 Y 위치"],
                ["PosZ", "number", "맵상 Z 위치"]
            ]
        },
        "Item": {
            "desc": "아이템 정보",
            "fields": [
                ["ItemCd", "types.unsigned", "아이템 종류 코드"],
                ["ItemId", "types.stringId", "아이템 개체 ID"]
            ]
        },
        "ItemChange": {
            "desc": "아이템 변화 정보",
            "mixins": ["bases.Character", "bases.Item"],
            "fields": [
                ["Change", "integer",  "아이템 수 변화량 (+는 증가/-는 감소)"],
                ["Total", "types.unsigned",  "변화후 아이템 수"],
                ["ReasonCd", "types.unsigned",  "아이템 변화 원인 코드"]
            ]
        },
        "Money": {
            "desc": "돈 정보",
            "fields": [
                ["MoneyCd", "types.unsigned", "돈 종류 코드"]
            ]
        },
        "MoneyChange": {
            "desc": "돈 변화 정보",
            "mixins": ["bases.Character", "bases.Money"],
            "fields": [
                ["Change", "integer",  "돈 변화량 (+는 증가/-는 감소)"],
                ["Total", "types.unsigned",  "변화후 돈"],
                ["ReasonCd", "types.unsigned",  "돈 변화 원인 코드"]
            ]
        },
        "ExpChange": {
            "desc": "경험치 변화 정보",
            "mixins": ["bases.Character"],
            "fields": [
                ["Change", "integer",  "경험치 변화량 (+는 증가/-는 감소)"],
                ["Total", "types.unsigned",  "변화후 경험치"],
                ["ReasonCd", "types.unsigned",  "경험치 변화 원인 코드"]
            ]
        },
        "LevelChange": {
            "desc": "레벨 변화 정보",
            "mixins": ["bases.Character"],
            "fields": [
                ["Change", "integer",  "레벨 변화량 (+는 증가/-는 감소)"],
                ["ReasonCd", "types.unsigned",  "레벨 변화 원인 코드"]
            ]
        },
        "QuestChange": {
            "desc": "퀘스트 변화 정보",
            "mixins": ["bases.Character"],
            "fields": [
                ["QuestCd", "types.unsigned", "퀘스트 종류 코드"],
                ["QuestId", "types.unsigned", "퀘스트 개체 ID", true],
                ["Status", "types.questStatus",  "퀘스트 상태 변화"]
            ]
        }
    },
    "events": {
        "AcntRegister": {
            "desc": "계정 등록",
            "mixins": ["webzen.bases.WebzenAcnt", "bases.Account", "bases.Device"]
        },
        "CharCreate": {
            "desc": "캐릭터 생성",
            "mixins": ["bases.ServerAccount", "bases.Character"],
            "fields": [
                ["CharIndex", "types.unsigned", "해당 캐릭터가 계정의 몇 번째 인지 (시작 1)"]
            ]
        },
        "CharDelete": {
            "desc": "캐릭터 삭제",
            "mixins": ["bases.ServerAccount", "bases.Character"],
            "fields": [
                ["CharLevel", "types.unsigned", "캐릭터 레벨"]
            ]
        },
        "AcntLogin": {
            "desc": "계정 로그인",
            "mixins": ["webzen.bases.WebzenAcnt", "bases.ServerAccount", "bases.Device"],
            "fields": [
                ["VipLevel", "types.unsigned", "VIP 레벨"]
            ]
        },
        "AcntLogout": {
            "desc": "계정 로그아웃",
            "mixins": ["bases.ServerAccount", "bases.Ip"],
            "fields": [
				["PlayTime", "number", "플레이 시간 (초)", true],
                ["VipLevel", "types.unsigned", "VIP 레벨"]
            ]
        },
        "CharLogin": {
            "desc": "캐릭터 로그인",
            "mixins": ["bases.Character"]
        },
        "CharLogout": {
            "desc": "캐릭터 로그아웃",
            "mixins": ["bases.Character"],
            "fields": [
				["PlayTime", "number", "플레이 시간 (초)", true]
            ]
        },
        "ItemChange": {
            "desc": "플레이 중 아이템 변화",
            "mixins": ["bases.ItemChange", "bases.Location"]
        },
        "MoneyChange": {
            "desc": "플레이 중 돈 변화",
            "mixins": ["bases.MoneyChange", "bases.Location"]
        },
        "ExpChange": {
            "desc": "플레이 중 경험치 변화",
            "mixins": ["bases.ExpChange", "bases.Location"]
        },
        "LevelChange": {
            "desc": "플레이 중 레벨 변화",
            "mixins": ["bases.LevelChange", "bases.Location"]
        },
        "QuestChange": {
            "desc": "퀘스트 변화",
            "mixins": ["bases.QuestChange"]
        }
    }
}
