{
    "$schema": "https://raw.githubusercontent.com/haje01/loglab/master/schema/lab.schema.json",
    "domain": {
        "name": "rpg",
        "desc": "MMORPG 게임 로그 샘플"
    },
    "import": ["webzen.lab.json"],
    "types": {
        "stringId": {
            "type": "string",
            "desc": "문자열 ID"
        },
        "unsigned": {
            "type": "integer",
            "desc": "0 또는 양의 정수",
            "minimum": 0
        },
        "unsignedId": {
            "type": "integer",
            "desc": "0 또는 양의 정수 ID",
            "minimum": 0
        },
        "platformId": {
            "type": "string",
            "desc": "플랫폼 ID",
            "enum": ["ios", "aos", "pc"]
        },
        "networkId": {
            "type": "string",
            "desc": "네트워크 ID",
            "enum": ["wifi", "2G", "3G", "4G", "5G"]
        },
        "ipType": {
            "type": "string",
            "desc": "IP 주소 타입",
            "enum": ["IPv4", "IPv6", "Unknown"]
        },
        "ip": {
            "type": "string",
            "desc": "IP 주소"
        },
        "moneyCd": {
            "desc": "재화 종류 코드",
            "type": "integer",
            "enum": [
                [10, "귀속 게임 머니"],
                [20, "게임 머니"],
                [30, "귀속 유료 머니"],
                [40, "유료 머니"],
                [50, "포인트"]
            ]
        },
        "normReasonCd": {
            "desc": "일반 원인 코드",
            "type": "integer",
            "enum": [
                [0, "알수 없음"],
                [10, "시스템"],
                [20, "GM"],
                [30, "사용"],
                [40, "드랍"],
                [50, "채집"],
                [60, "전투"],
                [70, "퀘스트"],
                [80, "던전"],
                [90, "경매"],
                [100, "거래"],
                [110, "유료샵"],
                [120, "강화"],
                [130, "길드"],
                [140, "우편"],
                [150, "펫"]
            ]
        },
        "questStatus": {
            "desc": "퀘스트 상태",
            "type": "string",
            "enum": [
                ["take", "획득"],
                ["start", "시작"],
                ["cancel", "취소"],
                ["done", "종료"]
            ]
        },
        "dungeonStatus": {
            "desc": "던전 상태",
            "type": "string",
            "enum": [
                ["enter", "입장"],
                ["cancel", "취소"],
                ["done", "완료"],
                ["death", "사망"]
            ]
        },
        "dungeonGrade": {
            "desc": "던전 완료 등급",
            "type": "string",
            "enum": ["s", "a", "b", "c", "f"]
        }
    },
    "bases": {
        "Ip": {
            "desc": "IP 정보",
            "fields": [
                ["ClientIpType", "types.ipType", "클라이언트 IP 타입"],
                ["ClientIp", "types.ip", "클라이언트 IP (ClientIpType 에 맞게)"]
            ]
        },
        "Device": {
            "desc": "디바이스 정보",
            "mixins": ["bases.Ip"],
            "fields": [
                ["AppId", "types.stringId", "앱 ID"],
                ["ClientVer", "types.stringId", "클라이언트 앱 버전"],
                ["DevicePlatform", "types.platformId", "디바이스 플랫폼"],
                ["DeviceOsVer", "string", "디바이스 OS 버전"],
                ["DeviceName", "string", "디바이스 이름"],
                ["Channel", "string", "접속 채널(루트)"],
                ["TelecomId", "types.stringId", "통신사 ID"],
                ["Network", "types.networkId", "네트워크 종류", true],
                ["ScreenWidth", "types.unsigned", "디바이스 화면 너비", true],
                ["ScreenHeight", "types.unsigned", "디바이스 화면 높이", true],
                ["ScreenDensity", "number", "디바이스 화소 밀도", true],
                ["CpuInfo", "string", "디바이스 CPU 정보 ('종류|클럭|코어수' 형식)", true],
                ["Memory", "types.unsigned", "디바이스 메모리 (MB)", true],
                ["GraphicsApi", "string", "디바이스 그래픽 API 정보", true],
                ["DeviceId", "string", "디바이스 ID", true]
            ]
        },
        "GameServer": {
            "desc": "게임 서버 정보",
            "fields": [
                ["GameSvrId", "types.stringId", "게임 서버 ID"],
                ["ZoneId", "types.unsignedId", "게임 서버가 속하는 구역 ID. 없는 경우 0"]
            ]
        },
        "Account": {
            "desc": "게임 계정 정보",
            "fields": [
                ["AcntId", "types.stringId", "게임 계정 ID"],
                ["EventRd", "types.unsigned", "임의 코드로 로그들을 연관지음", true]
            ]
        },
        "ServerAccount": {
            "desc": "게임 서버와 계정 정보",
            "mixins": ["bases.GameServer", "bases.Account"]
        },
        "Character": {
            "desc": "캐릭터 정보",
            "mixins": ["bases.ServerAccount"],
            "fields": [
                ["CharId", "types.stringId", "캐릭터 ID"],
                ["CharName", "string", "캐릭터 이름"],
                ["CharLevel", "types.unsigned", "캐릭터 레벨"]
            ]
        }, 
        "Location": {
            "desc": "맵상 위치 정보",
            "fields": [
                ["MapCd", "types.unsigned", "맵 코드", true],
                ["PosX", "number", "맵상 X 위치", true],
                ["PosY", "number", "맵상 Y 위치", true],
                ["PosZ", "number", "맵상 Z 위치", true]
            ]
        },
        "LocCharacter": {
            "desc": "맵상 캐릭터 정보",
            "mixins": ["bases.Character", "bases.Location"]
        },
        "Item": {
            "desc": "아이템 정보",
            "fields": [
                ["ItemCd", "types.unsigned", "아이템 종류 코드"],
                ["ItemId", "types.stringId", "아이템 개체 ID"]
            ]
        },
        "Money": {
            "desc": "재화 정보",
            "fields": [
                ["MoneyCd", "types.moneyCd", "재화 종류 코드"]
            ]
        }
    },
    "events": {
        "AcntCreate": {
            "desc": "계정 생성",
            "mixins": ["webzen.bases.WebzenAcnt", "bases.Account", "bases.Device"]
        },
        "CharCreate": {
            "desc": "캐릭터 생성",
            "mixins": ["bases.ServerAccount", "bases.Character"],
            "fields": [
                ["CharIndex", "types.unsigned", "해당 캐릭터가 계정의 몇 번째 인지 (시작 1)"]
            ]
        },
        "CharDelete": {
            "desc": "캐릭터 삭제",
            "mixins": ["bases.ServerAccount", "bases.Character"],
            "fields": [
                ["CharLevel", "types.unsigned", "캐릭터 레벨"]
            ]
        },
        "AcntLogin": {
            "desc": "계정 로그인",
            "mixins": ["webzen.bases.WebzenAcnt", "bases.ServerAccount", "bases.Device"],
            "fields": [
                ["VipLevel", "types.unsigned", "VIP 레벨"]
            ]
        },
        "AcntLogout": {
            "desc": "계정 로그아웃",
            "mixins": ["bases.ServerAccount", "bases.Ip"],
            "fields": [
				["PlayTime", "number", "플레이 시간 (초)", true],
                ["VipLevel", "types.unsigned", "VIP 레벨"]
            ]
        },
        "CharLogin": {
            "desc": "캐릭터 로그인",
            "mixins": ["bases.Character"]
        },
        "CharLogout": {
            "desc": "캐릭터 로그아웃",
            "mixins": ["bases.Character"],
            "fields": [
				["PlayTime", "number", "플레이 시간 (초)", true]
            ]
        },
        "CharDie": {
            "desc": "캐릭터 사망",
            "mixins": ["bases.LocCharacter"],
            "fields": [
                {
                    "name": "Reason",
                    "desc": "캐릭터 사망 원인",
                    "type": "string",
                    "enum": [
                        ["npc", "몬스터"],
                        ["pc", "다른 캐릭터"],
                        ["etc", "기타"]
                    ]
                },
                ["ReasonInfo", "string", "사망 원인 추가 정보 (npc/pc 인 경우 ID)", true]
            ]
        },
        "CharRevive": {
            "desc": "캐릭터 부활",
            "mixins": ["bases.LocCharacter"],
            "fields": [
                ["Paid", "boolean", "유료 부활 여부"]
            ]
        },
        "Item": {
            "desc": "아이템",
            "mixins": ["bases.LocCharacter", "bases.Item"],
            "fields": [
                ["Change", "integer",  "아이템 수 변화량 (+는 증가/-는 감소)"],
                ["After", "types.unsigned",  "변화후 아이템 수"],
                ["ReasonCd", "types.normReasonCd",  "아이템 변화 원인 코드"],
                ["ReasonInfo", "string", "아이템 변화 원인 추가 정보 (npc/pc 인 경우 ID)", true]
            ]
        },
        "Money": {
            "desc": "돈",
            "mixins": ["bases.LocCharacter", "bases.Money"],
            "fields": [
                ["Change", "integer",  "돈 변화량 (+는 증가/-는 감소)"],
                ["After", "types.unsigned",  "변화후 돈"],
                ["ReasonCd", "types.normReasonCd",  "돈 변화 원인 코드"],
                ["ReasonInfo", "string", "돈 변화 원인 추가 정보 (npc/pc 인 경우 ID)", true]
            ]
        },
        "Exp": {
            "desc": "경험치",
            "mixins": ["bases.LocCharacter"],
            "fields": [
                ["Change", "integer",  "경험치 변화량 (+는 증가/-는 감소)"],
                ["After", "types.unsigned",  "변화후 경험치"],
                ["ReasonCd", "types.normReasonCd",  "경험치 변화 원인 코드"],
                ["ReasonInfo", "string", "경험치 변화 원인 추가 정보", true]
            ]
        },
        "Level": {
            "desc": "레벨",
            "mixins": ["bases.LocCharacter"],
            "fields": [
                ["Change", "integer",  "레벨 변화량 (+는 증가/-는 감소)"],
                ["After", "types.unsigned",  "변화후 레벨"]
            ]
        },
        "Quest": {
            "desc": "퀘스트",
            "mixins": ["bases.LocCharacter"],
            "fields": [
                ["QuestCd", "types.unsigned", "퀘스트 종류 코드"],
                ["QuestId", "types.unsigned", "퀘스트 개체 ID", true],
                ["Status", "types.questStatus",  "퀘스트 상태"]
            ]
        },
        "Dungeon": {
            "desc": "던전",
            "mixins": ["bases.LocCharacter"],
            "fields": [
                ["Status", "types.dungeonStatus", "던전 상태"],
                ["Score", "types.dungeonGrade", "던전 완료 등급"]
            ]
        },
        "SkillUse": {
            "desc": "스킬별 1 분간 사용 횟수",
            "mixins": ["bases.LocCharacter"],
            "fields": [
                ["SkillId", "types.unsigned", "스킬 ID"],
                ["Count", "types.unsigned", "사용 횟수"]
            ]
        },
        "ItemEnchant": {
            "desc": "아이템 강화",
            "mixins": ["bases.LocCharacter", "bases.Item"],
            "fields": [
                {
                    "name": "Result",
                    "desc": "강화 결과",
                    "type": "integer",
                    "enum": [
                        [0, "성공"],
                        [1, "실패"],
                        [2, "실패 + 하락"]
                    ]
                }
            ]
        },
        "Pet": {
            "desc": "펫"
        },
        "Produce": {
            "desc": "제작"
        },
        "Exchange": {
            "desc": "거래소"
        },
        "Auction": {
            "desc": "경매장"
        },
        "CashShop": {
            "desc": "유료 상점"
        },
        "PartyCreate": {
            "desc": "파티 생성"
        },
        "PartyMember": {
            "desc": "파티 멤버"
        },
        "PartyDelete": {
            "desc": "파티 삭제"
        },
        "GuildCreate": {
            "desc": "길드 생성"
        },
        "GuildMember": {
            "desc": "길드 멤버"
        },
        "GuildDelete": {
            "desc": "길드 삭제"
        },
        "CastleWar": {
            "desc": "공성"
        },
        "Mail": {
            "desc": "우편"
        },
        "Chat": {
            "desc": "채팅"
        },
        "Charge": {
            "desc": "충전"
        },
        "Report": {
            "desc": "신고"
        },
        "Return": {
            "desc": "복귀"
        }
    }
}
